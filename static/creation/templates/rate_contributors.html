{% extends 'spoken/templates/base.html' %}
{% load widget_tweaks %}
{% load static %}
{% load eventsdata %}
{% load cmsdata %}
{% load creationdata %}

{% block compresscssblock %}
    <link rel="stylesheet" href="{% static 'spoken/css/jquery.datetimepicker.css' %}" type="text/css" media="screen" charset="utf-8" />
{% endblock %}

{% block heading %} <i class="fa fa-list-ul"></i> Rate Contributors {% endblock %}
{% block search %}{% endblock %}
{% block content %}
  <div class='filters row' >

    <form action="{{ action }}" method="get" class='form-horizontal'>
      
      </div>
      <div class="col-lg-4 col-md-4 col-sm-4">
          <div class="form-group">
              <label for="id_language__name" class="col-sm-4 control-label">Language</label>
              <div class="col-sm-8">
                  {% render_field form.language class+="form-control language" tabindex="1" %}
                  {{ form.language.errors }}
              </div>
          </div>
         
      </div>          
  <div>

      
      <div class="form-group col-sm-12">
        <div class="col-sm-offset-4 col-sm-8">
           <input class="btn btn-success" type="submit" value="Filter" />
           <a class="btn btn-success" href="{{request.path}}?{{request.GET|reset_get_values}}">Reset Filter</a>
        </div>
      </div>
  </div>

  <div class="tab-content">
  <div class="tab-pane active">
  
    <table class="paleblue table table-striped table-hover table-bordered">
    
            
      
      {% get_sortable_header header ordering request.GET %}  
          
          <tr class="pull-right">
            <input type = "submit" class="btn btn-primary pull-right"  value="Save" >
          </tr>

          {% for record in contributors %}

          <tr>
          <td><input type="checkbox" name ="contri" value ="{{ record.user__username }}" ></td>
          <label for = "{{ record.user__username }}">
          <td>{{ record.user__username }}</td>       
          </label>
          <td>{{ record.language__name }}</td>
          <td>
          <div class="form-group">
            <label for="sel1"></label>
            <select class="form-control" name ="rating" id="sel1">
              <option>0</option>
              <option>1</option>
              <option>2</option>
              <option>3</option>
              <option>4</option>
              <option>5</option>
            </select>
          </div>
          </td>
          </tr>
          </tr > 
          {% endfor %}
    </table>
      
<hr>
    <table class="paleblue table table-striped table-hover table-bordered">
      
      
          <tr> <th> Rated Contributors </th>
            <th></th></tr>
            <th>
              User
            </th>
            <th>
            Rating
          </th>
      {%for rates in rated_contributors %}    
          <tr>
            <td> {{rates.user__username}}</td>
            <td> {{ rates.rating }}</td>  
          </tr>
          {% endfor %}
    </table>

  
  </div>
  </div>
{% endblock %}
{% block compressjsblock %}
    <script src="{% static 'spoken/js/events.js' %}"></script>
    <script src="{% static 'spoken/js/jquery.datetimepicker.js' %}"></script>
    <script src="{% static 'spoken/js/jquery.fancybox.pack.js' %}"></script>
    <script type="text/javascript">        
        $('.date').datetimepicker({
            lang:'en',
            timepicker:false,
            format:'Y-m-d',
            formatDate:'Y/m/d',
            maxDate:'+1987/06/14',
        });

        
    </script>
{% endblock %}  